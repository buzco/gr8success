<div class="product-template">
  <div class="image-viewer">
    {% if product.data.images and product.data.images[0] %}
      <img 
        src="{{ product.data.images[0].image }}" 
        alt="{{ product.data.title }}" 
        class="product-image" 
        id="main-product-image"
        width="400" 
        height="400" 
        fetchpriority="high"
        loading="eager" 
      >
    {% endif %}
  </div>

  {% set limitedImages = (product.data.images | default([])) | slice(0, 4) %}
  {% if limitedImages | length > 1 %}
    <nav class="image-thumb thumbnail-row" aria-label="Product thumbnails">
      {% for image in limitedImages %}
        <button type="button" class="thumb-button {% if loop.index0 == 0 %}active{% endif %}" onclick="updateMainImage('{{ image.image }}', this)">
          <img 
            src="{{ image.image }}" 
            alt="View product detail {{ loop.index }}"
            width="60" 
            height="60"
            loading="lazy"
          >
        </button>
      {% endfor %}
    </nav>
  {% endif %}

  <div class="product-info">
    <h2><a href="{{ product.url }}#souvenir">{{ product.data.title }}</a></h2>
    <p class="description">{{ product.data.description }}</p>
    <div class="embed-container">
      {{ product.data.shopify_embed | safe }}
    </div>
  </div>
</div>